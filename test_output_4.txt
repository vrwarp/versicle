
> versicle@0.0.0 test
> vitest --run


[1m[46m RUN [49m[22m [36mv4.0.14 [39m[90m/app[39m

 [31m‚ùØ[39m src/components/reader/tests/GestureOverlay.test.tsx [2m([22m[2m9 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[32m 131[2mms[22m[39m
     [32m‚úì[39m renders nothing when gestureMode is false[32m 45[2mms[22m[39m
     [32m‚úì[39m renders overlay when gestureMode is true[32m 20[2mms[22m[39m
[31m     [31m√ó[31m handles center tap (Play/Pause)[39m[32m 16[2mms[22m[39m
[31m     [31m√ó[31m handles left tap (Rewind)[39m[32m 8[2mms[22m[39m
[31m     [31m√ó[31m handles right tap (Forward)[39m[32m 8[2mms[22m[39m
[31m     [31m√ó[31m handles swipe up (Speed Up)[39m[32m 9[2mms[22m[39m
[31m     [31m√ó[31m handles swipe down (Speed Down)[39m[32m 13[2mms[22m[39m
[31m     [31m√ó[31m handles swipe left (Next Chapter)[39m[32m 5[2mms[22m[39m
[31m     [31m√ó[31m handles swipe right (Prev Chapter)[39m[32m 6[2mms[22m[39m
 [32m‚úì[39m src/lib/ingestion.integration.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 879[2mms[22m[39m
     [33m[2m‚úì[22m[39m should process a real epub file (Alice in Wonderland) and extract metadata + cover [33m 877[2mms[22m[39m
Not implemented: HTMLMediaElement's pause() method
[90mstderr[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2minitializes epub.js and renders book
[22m[39m‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[90mstdout[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2minitializes epub.js and renders book
[22m[39mBook indexed for search

[90mstderr[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2minitializes epub.js and renders book
[22m[39mError loading book: TypeError: Cannot read properties of undefined (reading 'content')
    at loadBook [90m(/app/[39msrc/components/reader/ReaderView.tsx:401:27[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
[90mstdout[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2mhandles navigation (next/prev)
[22m[39mBook indexed for search

[90mstderr[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2mhandles navigation (next/prev)
[22m[39mError loading book: TypeError: Cannot read properties of undefined (reading 'content')
    at loadBook [90m(/app/[39msrc/components/reader/ReaderView.tsx:401:27[90m)[39m

[90mstdout[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2mhandles navigation (next/prev)
[22m[39mNavigating to next page
Navigating to previous page

Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
[90mstdout[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2mtoggles TOC
[22m[39mBook indexed for search

[90mstderr[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2mtoggles TOC
[22m[39mError loading book: TypeError: Cannot read properties of undefined (reading 'content')
    at loadBook [90m(/app/[39msrc/components/reader/ReaderView.tsx:401:27[90m)[39m

Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
[90mstdout[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2mupdates settings
[22m[39mBook indexed for search

[90mstderr[2m | src/components/reader/tests/ReaderView.test.tsx[2m > [22m[2mReaderView[2m > [22m[2mupdates settings
[22m[39mError loading book: TypeError: Cannot read properties of undefined (reading 'content')
    at loadBook [90m(/app/[39msrc/components/reader/ReaderView.tsx:401:27[90m)[39m

Not implemented: HTMLMediaElement's pause() method
[90mstderr[2m | src/components/reader/tests/ReaderView.test.tsx
[22m[39mWebSpeechProvider: Voice loading timed out or no voices available.

 [32m‚úì[39m src/components/reader/tests/ReaderView.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 1149[2mms[22m[39m
     [33m[2m‚úì[22m[39m updates settings [33m 778[2mms[22m[39m
[90mstderr[2m | src/components/ui/Dialog.test.tsx[2m > [22m[2mDialog[2m > [22m[2mrenders title and description when open
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | src/components/ui/Dialog.test.tsx[2m > [22m[2mDialog[2m > [22m[2mrenders children content
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | src/components/ui/Dialog.test.tsx[2m > [22m[2mDialog[2m > [22m[2mcalls onClose when close button is clicked
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 [32m‚úì[39m src/components/reader/tests/AnnotationList.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 449[2mms[22m[39m
     [33m[2m‚úì[22m[39m should edit note [33m 302[2mms[22m[39m
[90mstderr[2m | src/components/ui/Dialog.test.tsx[2m > [22m[2mDialog[2m > [22m[2mrenders footer
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 [32m‚úì[39m src/components/ui/Dialog.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 768[2mms[22m[39m
     [33m[2m‚úì[22m[39m renders title and description when open [33m 365[2mms[22m[39m
[90mstderr[2m | src/components/library/BookCard.test.tsx[2m > [22m[2mBookCard[2m > [22m[2mshould render book info
[22m[39m‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m‚úì[39m src/components/library/BookCard.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 2811[2mms[22m[39m
     [33m[2m‚úì[22m[39m should render cover image if blob is present [33m 2471[2mms[22m[39m
 [32m‚úì[39m src/components/reader/tests/TTSQueue.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 675[2mms[22m[39m
     [33m[2m‚úì[22m[39m highlights active item [33m 513[2mms[22m[39m
 [32m‚úì[39m src/integration.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 371[2mms[22m[39m
     [33m[2m‚úì[22m[39m should add a book, list it, and delete it (Library Management) [33m 350[2mms[22m[39m
[90mstderr[2m | src/hooks/use-local-storage.test.ts[2m > [22m[2museLocalStorage[2m > [22m[2mshould handle parsing errors gracefully
[22m[39mError reading localStorage key "test-key": SyntaxError: Unexpected token 'i', "invalid-json" is not valid JSON
    at JSON.parse (<anonymous>)
    at readValue [90m(/app/[39msrc/hooks/use-local-storage.ts:22:26[90m)[39m
    at mountState [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:16167:20[90m)[39m
    at Object.useState [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:16880:16[90m)[39m
    at useState [90m(/app/[39mnode_modules/[4mreact[24m/cjs/react.development.js:1622:21[90m)[39m
    at useLocalStorage [90m(/app/[39msrc/hooks/use-local-storage.ts:29:41[90m)[39m
    at [90m/app/[39msrc/hooks/use-local-storage.test.ts:50:41
    at TestComponent [90m(/app/[39mnode_modules/[4m@testing-library/react[24m/dist/pure.js:331:27[90m)[39m
    at renderWithHooks [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
    at mountIndeterminateComponent [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
Error reading localStorage key "test-key": SyntaxError: Unexpected token 'i', "invalid-json" is not valid JSON
    at JSON.parse (<anonymous>)
    at readValue [90m(/app/[39msrc/hooks/use-local-storage.ts:22:26[90m)[39m
    at [90m/app/[39msrc/hooks/use-local-storage.ts:51:20
    at commitHookEffectListMount [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:23189:26[90m)[39m
    at commitPassiveMountOnFiber [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24970:11[90m)[39m
    at commitPassiveMountEffects_complete [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24930:9[90m)[39m
    at commitPassiveMountEffects_begin [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24917:7[90m)[39m
    at commitPassiveMountEffects [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24905:3[90m)[39m
    at flushPassiveEffectsImpl [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:27078:3[90m)[39m
    at flushPassiveEffects [90m(/app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:27023:14[90m)[39m

 [32m‚úì[39m src/hooks/use-local-storage.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32m‚úì[39m src/components/reader/TTSAbbreviationSettings.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 187[2mms[22m[39m
 [32m‚úì[39m src/components/library/LibraryView.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 150[2mms[22m[39m
 [32m‚úì[39m src/components/reader/tests/AnnotationPopover.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 147[2mms[22m[39m
 [32m‚úì[39m src/components/library/FileUploader.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 102[2mms[22m[39m
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
[90mstderr[2m | src/lib/tts/AudioPlayerService.test.ts[2m > [22m[2mAudioPlayerService[2m > [22m[2mshould handle fallback from cloud to local on error
[22m[39mPlay error Error: API Quota Exceeded
    at [90m/app/[39msrc/lib/tts/AudioPlayerService.test.ts:115:51
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:919:26
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1244:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1210:10[90m)[39m
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1654:37
    at Traces.$ [90m(file:///app/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.U4xDYhzZ.js:115:27[90m)[39m
    at trace [90m(file:///app/[39mnode_modules/[4mvitest[24m/dist/chunks/test.DqQZzsWf.js:234:21[90m)[39m
    at runTest [90m(file:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1654:12[90m)[39m
Falling back to WebSpeechProvider...

 [32m‚úì[39m src/lib/tts/AudioPlayerService.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32m‚úì[39m src/components/reader/tests/TTSQueue_AutoScroll.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 106[2mms[22m[39m
 [32m‚úì[39m src/hooks/useTTS.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 39[2mms[22m[39m
[90mstderr[2m | src/store/useAnnotationStore.test.ts[2m > [22m[2museAnnotationStore[2m > [22m[2mshould delete annotation
[22m[39mWarning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/app/node_modules/@testing-library/react/dist/pure.js:329:5)

[90mstderr[2m | src/store/useAnnotationStore.test.ts[2m > [22m[2museAnnotationStore[2m > [22m[2mshould update annotation
[22m[39mWarning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/app/node_modules/@testing-library/react/dist/pure.js:329:5)

 [32m‚úì[39m src/store/useAnnotationStore.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32m‚úì[39m src/lib/tts.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 60[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/extractSentences.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32m‚úì[39m src/lib/search.repro.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 57[2mms[22m[39m
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
 [32m‚úì[39m src/lib/tts/AudioPlayerService_SmartResume.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32m‚úì[39m src/store/useLibraryStore.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/AudioPlayerService_MediaSession.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/TextSegmenter.configurable.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32m‚úì[39m src/hooks/use-local-storage-bug.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 29[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/TextSegmenter.regression.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/TextSegmenter.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 26[2mms[22m[39m
[90mstdout[2m | src/lib/tts/TextSegmenter.perf.test.ts[2m > [22m[2mTextSegmenter Performance[2m > [22m[2mavoids unnecessary string splitting during post-processing
[22m[39mSplit called 0 times for 100 sentences.

 [32m‚úì[39m src/lib/tts/TextSegmenter.perf.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 25[2mms[22m[39m
 [32m‚úì[39m src/lib/ingestion.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 24[2mms[22m[39m
Not implemented: HTMLMediaElement's pause() method
Not implemented: HTMLMediaElement's pause() method
[90mstdout[2m | src/lib/tts/AudioPlayerService_Resume.test.ts[2m > [22m[2mAudioPlayerService - Resume Speed Bug[2m > [22m[2mrestarts the sentence with new speed if speed changes while paused
[22m[39mPassed: Synthesize called with new speed.

 [32m‚úì[39m src/lib/tts/AudioPlayerService_Resume.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 21[2mms[22m[39m
 [32m‚úì[39m src/lib/search.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/TTSCache.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/providers/WebSpeechProvider.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/MediaSessionManager.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/CsvUtils.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32m‚úì[39m src/lib/utils.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32m‚úì[39m src/lib/search-engine.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/AudioElementPlayer.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32m‚úì[39m src/store/useTTSStore.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/processors/Sanitizer.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/SyncEngine.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/LexiconService.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32m‚úì[39m src/store/useReaderStore.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/lexiconSample.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32m‚úì[39m src/lib/tts/CostEstimator.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 7 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/reader/tests/GestureOverlay.test.tsx[2m > [22mGestureOverlay[2m > [22mhandles center tap (Play/Pause)
[31m[1mAssertionError[22m: expected "vi.fn()" to be called at least once[39m
[36m [2m‚ùØ[22m src/components/reader/tests/GestureOverlay.test.tsx:[2m71:22[22m[39m
    [90m 69| [39m    fireEvent.touchEnd(overlay, { changedTouches: [{ clientX: 500, cli‚Ä¶
    [90m 70| [39m
    [90m 71| [39m    [34mexpect[39m(mockPlay)[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m   | [39m                     [31m^[39m
    [90m 72| [39m
    [90m 73| [39m    [90m// Check feedback[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/reader/tests/GestureOverlay.test.tsx[2m > [22mGestureOverlay[2m > [22mhandles left tap (Rewind)
[31m[1mAssertionError[22m: expected "vi.fn()" to be called with arguments: [ -15 ][90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m‚ùØ[22m src/components/reader/tests/GestureOverlay.test.tsx:[2m85:22[22m[39m
    [90m 83| [39m    fireEvent.touchEnd(overlay, { changedTouches: [{ clientX: 100, cli‚Ä¶
    [90m 84| [39m
    [90m 85| [39m    [34mexpect[39m(mockSeek)[33m.[39m[34mtoHaveBeenCalledWith[39m([33m-[39m[34m15[39m)[33m;[39m
    [90m   | [39m                     [31m^[39m
    [90m 86| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'icon-rewind'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 87| [39m  })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/reader/tests/GestureOverlay.test.tsx[2m > [22mGestureOverlay[2m > [22mhandles right tap (Forward)
[31m[1mAssertionError[22m: expected "vi.fn()" to be called with arguments: [ 15 ][90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m‚ùØ[22m src/components/reader/tests/GestureOverlay.test.tsx:[2m97:22[22m[39m
    [90m 95| [39m    fireEvent.touchEnd(overlay, { changedTouches: [{ clientX: 900, cli‚Ä¶
    [90m 96| [39m
    [90m 97| [39m    [34mexpect[39m(mockSeek)[33m.[39m[34mtoHaveBeenCalledWith[39m([34m15[39m)[33m;[39m
    [90m   | [39m                     [31m^[39m
    [90m 98| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'icon-forward'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 99| [39m  })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/reader/tests/GestureOverlay.test.tsx[2m > [22mGestureOverlay[2m > [22mhandles swipe up (Speed Up)
[31m[1mAssertionError[22m: expected "vi.fn()" to be called with arguments: [ 1.1 ][90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m‚ùØ[22m src/components/reader/tests/GestureOverlay.test.tsx:[2m108:25[22m[39m
    [90m106| [39m    fireEvent.touchEnd(overlay, { changedTouches: [{ clientX: 500, cli‚Ä¶
    [90m107| [39m
    [90m108| [39m    [34mexpect[39m(mockSetRate)[33m.[39m[34mtoHaveBeenCalledWith[39m([34m1.1[39m)[33m;[39m
    [90m   | [39m                        [31m^[39m
    [90m109| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'icon-faster'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m110| [39m  })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/reader/tests/GestureOverlay.test.tsx[2m > [22mGestureOverlay[2m > [22mhandles swipe down (Speed Down)
[31m[1mAssertionError[22m: expected "vi.fn()" to be called with arguments: [ 0.9 ][90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m‚ùØ[22m src/components/reader/tests/GestureOverlay.test.tsx:[2m119:25[22m[39m
    [90m117| [39m    fireEvent.touchEnd(overlay, { changedTouches: [{ clientX: 500, cli‚Ä¶
    [90m118| [39m
    [90m119| [39m    [34mexpect[39m(mockSetRate)[33m.[39m[34mtoHaveBeenCalledWith[39m([34m0.9[39m)[33m;[39m
    [90m   | [39m                        [31m^[39m
    [90m120| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'icon-slower'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m121| [39m  })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/reader/tests/GestureOverlay.test.tsx[2m > [22mGestureOverlay[2m > [22mhandles swipe left (Next Chapter)
[31m[1mAssertionError[22m: expected "vi.fn()" to be called at least once[39m
[36m [2m‚ùØ[22m src/components/reader/tests/GestureOverlay.test.tsx:[2m130:22[22m[39m
    [90m128| [39m    fireEvent.touchEnd(overlay, { changedTouches: [{ clientX: 400, cli‚Ä¶
    [90m129| [39m
    [90m130| [39m    [34mexpect[39m(mockNext)[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m   | [39m                     [31m^[39m
    [90m131| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'icon-next'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m132| [39m  })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[6/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/reader/tests/GestureOverlay.test.tsx[2m > [22mGestureOverlay[2m > [22mhandles swipe right (Prev Chapter)
[31m[1mAssertionError[22m: expected "vi.fn()" to be called at least once[39m
[36m [2m‚ùØ[22m src/components/reader/tests/GestureOverlay.test.tsx:[2m141:22[22m[39m
    [90m139| [39m    fireEvent.touchEnd(overlay, { changedTouches: [{ clientX: 600, cli‚Ä¶
    [90m140| [39m
    [90m141| [39m    [34mexpect[39m(mockPrev)[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m   | [39m                     [31m^[39m
    [90m142| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'icon-prev'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m143| [39m  })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[7/7]‚éØ[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m44 passed[39m[22m[90m (45)[39m
[2m      Tests [22m [1m[31m7 failed[39m[22m[2m | [22m[1m[32m219 passed[39m[22m[90m (226)[39m
[2m   Start at [22m 23:01:30
[2m   Duration [22m 26.03s[2m (transform 2.34s, setup 16.20s, import 5.43s, tests 8.74s, environment 36.40s)[22m
